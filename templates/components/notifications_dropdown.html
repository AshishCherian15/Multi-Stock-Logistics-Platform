<!-- Notifications Dropdown -->
<div id="notificationsDropdown" class="dropdown-menu position-absolute"
    style="display: none; top: 100%; right: 120px; width: 400px; z-index: 1060; border-radius: 15px; border: none; box-shadow: 0 10px 40px rgba(0,0,0,0.2); max-height: 500px; overflow-y: auto;">
    <div class="d-flex justify-content-between align-items-center p-3 border-bottom">
        <h6 class="mb-0 fw-bold"><i class="fas fa-bell me-2 text-primary"></i>Notifications</h6>
        <button class="btn btn-sm btn-link text-primary" onclick="markAllAsRead()" style="text-decoration:none">Mark all read</button>
    </div>
    <div id="notificationDropdown">
        <div class="text-center py-4">
            <i class="fas fa-spinner fa-spin text-primary fa-2x"></i>
            <p class="mt-2 text-muted">Loading notifications...</p>
        </div>
    </div>
</div>

<script>
function toggleNotifications() {
    const dropdown = document.getElementById('notificationsDropdown');
    if (dropdown.style.display === 'none') {
        dropdown.style.display = 'block';
        loadNotifications();
    } else {
        dropdown.style.display = 'none';
    }
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
    const dropdown = document.getElementById('notificationsDropdown');
    const btn = document.getElementById('notificationBtn');
    if (dropdown && btn && !dropdown.contains(event.target) && !btn.contains(event.target)) {
        dropdown.style.display = 'none';
    }
});
</script>
